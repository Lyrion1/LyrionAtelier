<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-17836603744"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-17836603744');
</script>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
 <title>Order Confirmed - Lyrīon Atelier</title>
 <link rel="stylesheet" href="/styles/design-system.css">
 <link rel="stylesheet" href="css/style.css">
 <link rel="stylesheet" href="/css/button-fixes.css?v=2">
 <style>
 * {
 margin: 0;
 padding: 0;
 box-sizing: border-box;
 }

html {
 overflow: auto !important;
 overflow-y: auto !important;
 scroll-behavior: smooth;
}

body {
 font-family: Georgia, serif;
 background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
 min-height: 100vh;
 color: #ffffff;
 padding: 20px;
 position: relative;
 overflow: auto !important;
 overflow-y: auto !important;
 height: auto !important;
 pointer-events: auto !important;
}

body.success-page {
 display: flex;
 flex-direction: column;
 align-items: center;
}

body.success-page #main-content {
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 min-height: 100vh;
 width: 100%;
}

 /* Animated stars background */
 .stars {
 position: fixed;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 }

 .star {
 position: absolute;
 width: 2px;
 height: 2px;
 background: #ffffff;
 border-radius: 50%;
 animation: twinkle 3s infinite;
 }

 @keyframes twinkle {
 0%, 100% { opacity: 0.3; }
 50% { opacity: 1; }
 }

 .success-container {
 max-width: 600px;
 width: 100%;
 background: rgba(15, 12, 41, 0.9);
 border: 2px solid rgba(212, 175, 55, 0.3);
 border-radius: 20px;
 padding: 60px 40px;
 text-align: center;
 position: relative;
 z-index: 10;
 backdrop-filter: blur(10px);
 box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
 pointer-events: auto !important;
 margin: 50px auto;
 max-height: none !important;
 overflow: visible !important;
 }

 .cosmic-icon {
 font-size: 5rem;
 margin-bottom: 30px;
 animation: float 3s ease-in-out infinite;
 }

 @keyframes float {
 0%, 100% { transform: translateY(0px); }
 50% { transform: translateY(-20px); }
 }

 h1 {
 font-size: 2.5rem;
 color: #d4af37;
 margin-bottom: 20px;
 letter-spacing: 2px;
 font-weight: 300;
 }

 .subtitle {
 font-size: 1.2rem;
 color: rgba(255, 255, 255, 0.8);
 margin-bottom: 40px;
 font-style: italic;
 line-height: 1.6;
 }

 .divider {
 width: 100px;
 height: 2px;
 background: linear-gradient(90deg, transparent, #d4af37, transparent);
 margin: 30px auto;
 }

 .message {
 font-size: 1rem;
 color: rgba(255, 255, 255, 0.9);
 margin-bottom: 15px;
 line-height: 1.8;
 }

 .email-notice {
 background: rgba(212, 175, 55, 0.1);
 border-left: 4px solid #d4af37;
 padding: 20px;
 margin: 30px 0;
 text-align: left;
 }

 .email-notice p {
 font-size: 0.95rem;
 line-height: 1.6;
 color: rgba(255, 255, 255, 0.9);
 }

 .email-notice strong {
 color: #d4af37;
 }

 .cta-button {
 display: inline-block !important;
 visibility: visible !important;
 pointer-events: auto !important;
 position: relative;
 z-index: 1000;
 background: #d4af37;
 color: #0f0c29;
 padding: 16px 40px;
 border-radius: 8px;
 text-decoration: none;
 font-weight: 600;
 font-size: 1.1rem;
 margin-top: 30px;
 transition: all 0.3s ease;
 box-shadow: 0 8px 20px rgba(212, 175, 55, 0.3);
 cursor: pointer !important;
 }

 .cta-button:hover {
 transform: translateY(-3px);
 box-shadow: 0 12px 30px rgba(212, 175, 55, 0.5);
 }

 .oracle-link {
 display: inline-block;
 color: #d4af37;
 text-decoration: none;
 margin-top: 30px;
 font-size: 0.95rem;
 border-bottom: 1px solid transparent;
 transition: border-color 0.3s ease;
 pointer-events: auto !important;
 position: relative;
 z-index: 100;
 }

 .oracle-link:hover {
 border-bottom-color: #d4af37;
 }

 /* Remove any blocking overlays */
 .overlay,
 .modal-backdrop,
 [class*="overlay"],
 [class*="backdrop"] {
 display: none !important;
 }

 /* Ensure interactive elements remain clickable */
 a[href] {
 pointer-events: auto !important;
 cursor: pointer !important;
 position: relative;
 z-index: 100;
 }

 /* Mobile responsive */
 @media (max-width: 768px) {
 .success-container {
 padding: 40px 25px;
 }

 h1 {
 font-size: 2rem;
 }

 .subtitle {
 font-size: 1rem;
 }

 .cosmic-icon {
 font-size: 4rem;
 }
 }
 </style>
</head>
<body class="success-page">
<header class="site-header" data-nav-version="nav-v4">
 <nav class="main-nav" aria-label="Main navigation">
 <a href="/" class="logo-link">
 <img src="/images/lyrion-logo.png" alt="Lyrīon Atelier" class="logo-img">
 <span class="brand-name">LYRĪON ATELIER</span>
 </a>
 
 <button class="nav-toggle" aria-expanded="false" aria-label="Toggle navigation" aria-controls="primary-nav">☰</button>
 
 <div class="nav-links" id="primary-nav" aria-hidden="true">
 <a href="/">Home</a>
 <a href="/shop">Shop</a>
 <a href="/curated-for-gifting">Curated for Gifting</a>
 <a href="/oracle">Oracle</a>
 <a href="/compatibility">Compatibility</a>
 <a href="/codex">Codex</a>
 <a href="/contact">Contact</a>
 <a href="/cart" class="cart-icon">Cart <span class="cart-count" aria-live="polite" style="display:none;">0</span></a>
 </div>
 </nav>
</header>

 <!-- Animated stars -->
 <div class="stars" id="stars"></div>

 <div class="success-container">
 <div class="cosmic-icon">✶</div>
 
 <h1>The Stars Have Aligned</h1>
 
 <p class="subtitle">
 Your order has been woven into the cosmic tapestry.<br>
 The universe conspires to deliver what you've claimed.
 </p>

 <div class="divider"></div>

 <div class="email-notice">
 <p><strong>What Happens Next</strong></p>
 <p style="margin-top: 10px;">
 • A confirmation email is manifesting in your inbox<br>
 • Your piece is being crafted with cosmic precision<br>
 • Tracking details will arrive within 3-5 business days
 </p>
 </div>

 <p class="message">
 The journey from intention to manifestation has begun.
 </p>

 <a href="/shop" class="cta-button">Continue Your Journey</a>

 <br>

 <a href="/oracle" class="oracle-link">
 ✦ Claim Your Free Oracle Reading
 </a>
 </div>

 <script src="js/main.js" defer></script>
 <script>
  try {
  // Create animated stars
  const starsContainer = document.getElementById('stars');
  if (starsContainer) {
  for (let i = 0; i < 100; i++) {
  const star = document.createElement('div');
  star.className = 'star';
  star.style.left = Math.random() * 100 + '%';
  star.style.top = Math.random() * 100 + '%';
  star.style.animationDelay = Math.random() * 3 + 's';
  starsContainer.appendChild(star);
  }
  }

  const sessionId = new URLSearchParams(window.location.search).get('session_id');
  if (sessionId) {
    const target = document.querySelector('.email-notice');
    if (target) {
      const refLine = document.createElement('p');
      refLine.style.marginTop = '12px';
      const label = document.createElement('span');
      label.textContent = 'Order reference: ';
      const strong = document.createElement('strong');
      strong.textContent = sessionId;
      refLine.append(label, strong);
      target.appendChild(refLine);
    }
    fetch(`/.netlify/functions/get-checkout-session?session_id=${encodeURIComponent(sessionId)}`)
      .then((res) => res.ok ? res.json() : null)
      .then((data) => {
        if (data?.payment_status === 'paid') {
          const paidLine = document.createElement('p');
          paidLine.style.marginTop = '8px';
          paidLine.textContent = 'Payment confirmed.';
          target?.appendChild(paidLine);
        }
      })
      .catch((err) => console.warn('Unable to verify session', err));
  } else {
    console.warn('No session_id found on success page.');
  }

  // Ensure page remains scrollable and interactive
  document.body.style.overflow = 'auto';
  document.documentElement.style.overflow = 'auto';

  // Remove any blocking overlays
  const overlays = document.querySelectorAll('.overlay, .modal-backdrop, [class*=\"overlay\"], [class*=\"backdrop\"]');
  overlays.forEach(el => el.remove());
  } catch (error) {
  console.error('Success page error:', error);
  document.body.style.overflow = 'auto';
  document.documentElement.style.overflow = 'auto';
  }
  </script>
</body>
</html>
