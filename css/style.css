/* LYRION ATELIER - FIXED & OPTIMIZED CSS */
/* Complete rewrite with all issues resolved */

@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;600;700&family=Cormorant+Garamond:wght@500;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,500;8..60,600&display=swap');

:root {
 --bg1: #0f172a;
 --bg-alt: #1e1c31;
 --card: #1e293b;
 --card-alt: #2d384a;
 --accent: #a78bfa;
 --accent-2: #f59e0b;
 --accent-rgb: 167, 139, 250;
 --accent-2-rgb: 245, 158, 11;
 --indigo-rgb: 99, 102, 241;
 --brand-gold: #d4af37;
 --text: #e2e8f0;
 --muted: #64748b;
 --border: rgba(255, 255, 255, 0.08);
 --success: #22c55e;
 --error: #ef4444;
 --radius: 16px;
 --gutter: 2rem;
 --shadow: 0 20px 60px rgba(0, 0, 0, 0.45);
 --gradient: radial-gradient(circle at 10% 10%, rgba(167, 139, 250, 0.19), transparent 28%), 
 radial-gradient(circle at 90% 90%, rgba(251, 191, 36, 0.16), transparent 30%);
 --section-space: 2rem;
 --section-space-mobile: 1.5rem;
 --hero-max-height: 65vh;
 --orb-glyph-size: 112px;
}

* {
 box-sizing: border-box;
 margin: 0;
 padding: 0;
}

body {
 margin: 0;
 font-family: 'Source Serif 4', 'Inter', system-ui, -apple-system, serif;
 background: var(--gradient);
 background-color: var(--bg1);
 color: var(--text);
 min-height: 100vh;
 line-height: 1.7;
 position: relative;
 overflow-x: hidden;
}

/* STARFIELD BACKGROUND */
body::before,
body::after {
 content: "";
 position: fixed;
 inset: 0;
 pointer-events: none;
 z-index: -1;
}

body::before {
 background-image:
 radial-gradient(1px 1px at 8% 16%, rgba(255,255,255,0.38), transparent 52%),
 radial-gradient(1px 1px at 22% 32%, rgba(255,255,255,0.44), transparent 55%),
 radial-gradient(1.2px 1.2px at 38% 18%, rgba(255,255,255,0.46), transparent 55%),
 radial-gradient(1px 1px at 54% 28%, rgba(255,255,255,0.36), transparent 50%),
 radial-gradient(1.4px 1.4px at 70% 12%, rgba(255,255,255,0.5), transparent 58%),
 radial-gradient(1px 1px at 82% 30%, rgba(255,255,255,0.34), transparent 55%),
 radial-gradient(1px 1px at 16% 64%, rgba(255,255,255,0.46), transparent 55%),
 radial-gradient(1.3px 1.3px at 42% 68%, rgba(255,255,255,0.4), transparent 55%),
 radial-gradient(1px 1px at 58% 82%, rgba(255,255,255,0.38), transparent 55%),
 radial-gradient(1.2px 1.2px at 74% 72%, rgba(255,255,255,0.45), transparent 55%),
 radial-gradient(1px 1px at 90% 88%, rgba(255,255,255,0.4), transparent 55%);
 background-size: 220px 220px, 260px 260px, 320px 320px, 380px 380px, 440px 440px, 
 500px 500px, 560px 560px, 620px 620px, 680px 680px, 760px 760px, 880px 880px;
 background-repeat: repeat;
 opacity: 0.95;
 filter: drop-shadow(0 0 1px rgba(255,255,255,0.22));
}

body::after {
 background-image:
 radial-gradient(1.6px 1.6px at 14% 22%, rgba(255,255,255,0.58), transparent 55%),
 radial-gradient(1.8px 1.8px at 32% 8%, rgba(255,255,255,0.62), transparent 55%),
 radial-gradient(2px 2px at 62% 18%, rgba(255,255,255,0.68), transparent 58%),
 radial-gradient(2.4px 2.4px at 82% 78%, rgba(255,255,255,0.7), transparent 60%),
 radial-gradient(circle at 10% 30%, rgba(255,255,255,0.1), transparent 20%);
 background-size: 320px 320px, 360px 360px, 480px 480px, 980px 980px, auto;
 mix-blend-mode: screen;
 animation: drift 24s ease-in-out infinite alternate;
}

@keyframes drift {
 0%, 100% { transform: translate(0, 0); }
 50% { transform: translate(10px, 10px); }
}

/* LAYOUT CONTAINER */
.container {
 max-width: 1400px;
 margin: 0 auto;
 padding: 0 var(--gutter);
}

/* SECTIONS - COMPACT SPACING */
section {
 margin-bottom: var(--section-space);
 padding: var(--section-space) 0;
}

/* HERO SECTION - COMPACT */
.hero-section {
 min-height: var(--hero-max-height);
 max-height: var(--hero-max-height);
 padding: 2rem 0;
 display: flex;
 align-items: center;
 position: relative;
 overflow: visible;
}

/* CRYSTAL BALLS / ORBS - FIXED */
.crystal-ball,
.orb {
 position: absolute;
 width: 200px;
 height: 200px;
 border-radius: 50%;
 background: radial-gradient(circle at 30% 30%, 
 rgba(255, 255, 255, 0.4) 0%,
 rgba(167, 139, 250, 0.6) 20%,
 rgba(139, 92, 246, 0.8) 40%,
 rgba(99, 102, 241, 0.9) 60%,
 rgba(67, 56, 202, 1) 100%
 );
 box-shadow: 
 0 0 40px rgba(139, 92, 246, 0.6),
 0 0 80px rgba(139, 92, 246, 0.4),
 inset 0 0 60px rgba(255, 255, 255, 0.2),
 inset -10px -10px 40px rgba(0, 0, 0, 0.4);
 cursor: pointer;
 transition: transform 0.3s ease, box-shadow 0.3s ease;
 animation: float 6s ease-in-out infinite;
 user-select: none;
 -webkit-user-drag: none;
 backdrop-filter: none !important;
 border: none !important;
}

.crystal-ball::before,
.orb::before {
 content: '';
 position: absolute;
 top: 15%;
 left: 20%;
 width: 40%;
 height: 40%;
 background: radial-gradient(circle, 
 rgba(255, 255, 255, 0.8) 0%, 
 rgba(255, 255, 255, 0.4) 40%, 
 transparent 70%
 );
 border-radius: 50%;
 filter: blur(8px);
}

.crystal-ball:hover,
.orb:hover {
 transform: scale(1.05) translateY(-5px);
 box-shadow: 
 0 0 60px rgba(139, 92, 246, 0.8),
 0 0 120px rgba(139, 92, 246, 0.6);
}

.crystal-ball:first-of-type,
.orb-left {
 left: 10%;
 bottom: 15%;
}

.crystal-ball:last-of-type,
.orb-right {
 right: 10%;
 bottom: 15%;
}

@keyframes float {
 0%, 100% { transform: translateY(0px); }
 50% { transform: translateY(-20px); }
}

.crystal-ball-text,
.orb-text,
.crystal-ball .orb-label,
.orb .orb-label {
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translate(-50%, -50%);
 color: #FFFFFF !important;
 font-weight: 700;
 font-size: 0.875rem;
 text-transform: uppercase;
 letter-spacing: 0.05em;
 text-align: center;
 text-shadow: 
 0 0 20px rgba(139, 92, 246, 0.9),
 0 0 40px rgba(139, 92, 246, 0.6),
 0 2px 4px rgba(0, 0, 0, 0.5);
 z-index: 10;
 pointer-events: auto;
 user-select: none;
 line-height: 1.4;
 max-width: 140px;
}

.customer-favorites {
 margin-top: var(--section-space);
 padding-top: var(--section-space);
}

.customer-favorites h2 {
 font-family: 'Cinzel', serif;
 font-size: 3rem;
 font-weight: 600;
 color: var(--brand-gold);
 text-align: center;
 margin-bottom: 1rem;
 text-shadow: 0 0 30px rgba(212, 175, 55, 0.4);
}

.cosmic-community,
.email-signup,
.newsletter-section,
section[class*="join"],
section[class*="community"],
section:has(input[type="email"]) {
 display: none !important;
}

.btn {
 display: inline-block;
 padding: 0.875rem 2rem;
 border-radius: 12px;
 font-weight: 600;
 font-size: 0.9375rem;
 text-decoration: none;
 transition: all 0.3s ease;
 cursor: pointer;
 border: none;
 font-family: inherit;
}

.btn-primary {
 background: linear-gradient(135deg, var(--brand-gold) 0%, #f4c430 100%);
 color: var(--bg1);
 box-shadow: 0 4px 20px rgba(212, 175, 55, 0.4);
}

.btn-primary:hover {
 transform: translateY(-2px);
 box-shadow: 0 6px 30px rgba(212, 175, 55, 0.6);
}

.btn-secondary {
 background: rgba(167, 139, 250, 0.2);
 color: var(--accent);
 border: 2px solid var(--accent);
}

.btn-secondary:hover {
 background: rgba(167, 139, 250, 0.3);
 transform: translateY(-2px);
}

.product-card {
 background: var(--card);
 border-radius: var(--radius);
 padding: 1.5rem;
 transition: transform 0.3s ease, box-shadow 0.3s ease;
 border: 1px solid var(--border);
}

.product-card:hover {
 transform: translateY(-5px);
 box-shadow: var(--shadow);
 border-color: rgba(167, 139, 250, 0.3);
}

nav {
 padding: 1rem 0;
 backdrop-filter: blur(10px);
 background: rgba(15, 23, 42, 0.8);
 position: sticky;
 top: 0;
 z-index: 1000;
 border-bottom: 1px solid var(--border);
}

nav .container {
 display: flex;
 justify-content: space-between;
 align-items: center;
}

nav ul {
 display: flex;
 gap: 2rem;
 list-style: none;
}

nav a {
 color: var(--text);
 text-decoration: none;
 font-weight: 500;
 transition: color 0.3s ease;
}

nav a:hover {
 color: var(--brand-gold);
}

footer {
 margin-top: 4rem;
 padding: 2rem 0;
 border-top: 1px solid var(--border);
 text-align: center;
}

footer a {
 color: var(--text);
 text-decoration: none;
 margin: 0 1rem;
 font-size: 0.9rem;
 transition: color 0.3s ease;
}

footer a:hover {
 color: var(--brand-gold);
}

@media (max-width: 768px) {
 :root {
 --gutter: 1rem;
 --section-space: var(--section-space-mobile);
 }

 .hero-section {
 min-height: auto;
 max-height: none;
 padding: 2rem 0 4rem;
 flex-direction: column;
 }

 .crystal-ball,
 .orb {
 position: relative !important;
 left: auto !important;
 right: auto !important;
 bottom: auto !important;
 display: block !important;
 opacity: 1 !important;
 visibility: visible !important;
 width: 150px !important;
 height: 150px !important;
 margin: 2rem auto !important;
 }

 .customer-favorites h2 {
 font-size: 2rem;
 }

 nav ul {
 flex-wrap: wrap;
 gap: 1rem;
 justify-content: center;
 }

 section {
 margin-bottom: 1.5rem;
 padding: 1.5rem 0;
 }
}

@media (prefers-reduced-motion: reduce) {
 *,
 *::before,
 *::after {
 animation-duration: 0.01ms !important;
 animation-iteration-count: 1 !important;
 transition-duration: 0.01ms !important;
 }
}

@media print {
 body::before,
 body::after,
 .crystal-ball,
 .orb {
 display: none;
 }
}
